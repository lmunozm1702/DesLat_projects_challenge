<% if notice != nil%>
<div class="alert alert-success mt-2" role="alert">
    <h4 class="alert-heading">Well done!</h4>
    <hr>
    <p id="notice"><%= notice %></p>
</div>
<% end %>

<ul class="nav justify-content-end navbar-light bg-transparent">
    <li class="nav-item mt-2">
        <%= form_with model: @project, url: projects_all_path, method: :get, local: true, html: { class: "d-flex" } do |form| %> 
    
            <%= form.label :state, class: "mt-2 me-2" %>
            <%= form.select :state, ["Proposal", "On going", "Finished"], {include_blank: "All"}, {class: "form-control form-select me-2"} %>
    
            <%= form.submit "Search", class: "btn btn-primary" %>
    
        <% end %>
    </li>
</ul>


<table class="table mt-2">
    <thead>
        <tr class="table-primary">
            <th>Name</th>
            <th>Description</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>State</th>
        </tr>
    </thead>

    <% if @projects.count == 0 %>
        <tr>
            <td colspan="5">No records found</td>
        </tr>
    <% else %>
        <% @projects.each do |project| %>
            <tr>
                <td><%= project.name%></td>
                <td><%= project.description%></td>
                <td><%= project.start_date%></td>
                <td><%= project.end_date%></td>
                <td><%= project.state%></td>
                <!---td><%#= project.created_at.strftime("%d-%m-%Y %H:%M")%></td-->
            </tr>
        <% end %>
    <% end %>
</table>